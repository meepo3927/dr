webpackJsonp([6],{48:function(t,e){var a={setPromise:function(t,e){return this.promiseHolder[t]&&(this.promiseHolder[t].cancel(),this.promiseHolder[t]=null),this.promiseHolder[t]=e},cleanPromise:function(){for(var t in this.promiseHolder)if(this.promiseHolder.hasOwnProperty(t)){var e=this.promiseHolder[t];e&&e.cancel&&e.cancel(),e=null}this.promiseHolder={}}};t.exports={props:[],data:function(){return{}},methods:a,computed:{},created:function(){this.promiseHolder={}},mounted:function(){},activated:function(){},deactivated:function(){},beforeDestroy:function(){this.cleanPromise()},mixins:[],components:{}}},520:function(t,e,a){var i=a(2)(a(561),a(615),function(t){a(638)},"data-v-2d82e2bc",null);t.exports=i.exports},532:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={onClick:function(t){this.currIndex=t,this.$emit("click",t)}},n={mylist:function(){return this.list?this.list.split(";"):[]}};e.default={data:function(){return{currIndex:this.index||1}},methods:i,computed:n,props:["list","index"],mounted:function(){}}},533:function(t,e,a){(t.exports=a(0)()).push([t.i,".tab-btn-group>li[data-v-24b5e4ba]{display:inline-block}.tab-btn-group>li>a[data-v-24b5e4ba]{display:inline-block;color:#999;padding:15px 22px;font-size:18px;margin-right:10px}.tab-btn-group>li.active a[data-v-24b5e4ba]{color:#333;border-top:3px solid #5faee3;background-color:#fff;border-radius:5px 5px 0 0}",""])},534:function(t,e,a){var i=a(2)(a(532),a(535),function(t){a(536)},"data-v-24b5e4ba",null);t.exports=i.exports},535:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("ul",{staticClass:"tab-btn-group"},a._l(a.mylist,function(t,e){return i("li",{class:{active:e+1===a.currIndex}},[i("a",{attrs:{href:"javascript:;"},domProps:{textContent:a._s(t)},on:{click:function(t){a.onClick(e+1)}}})])}),0)},staticRenderFns:[]}},536:function(t,e,a){var i=a(533);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("429d3a50",i,!0,{})},561:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){var c=o(3),e=o(21),a=(o(5),{getAreaInfo:function(){return this.areaName+" "+this.date},getOption1:function(t){return t.length?(t.sort(function(t,e){return t.level>e.level?1:-1}),{legend:{data:t.map(function(t){return t.name}),bottom:15},tooltip:this.getPieTooltip(),toolbox:{right:30,feature:{saveAsImage:{},dataView:{}}},series:this.getPieSeries({radius:[60,90],center:["50%","45%"],data:t,label:{normal:{formatter:"{b}:{c}人\n({d}%)"}}})}):"empty"},getOption2:function(i){var n=this;return{tooltip:this.getBarTooltip(),legend:{bottom:15,data:i.dataFields},toolbox:{right:30,feature:{saveAsImage:{},dataView:{}}},grid:{left:15,right:35,containLabel:!0},xAxis:{type:"category",name:"时",data:i.data0},yAxis:{name:"人数",type:"value"},series:i.dataFields.map(function(t,e){var a=e+1;return n.getBarSeries({name:t,stack:"all",data:i["data"+a]})})}},getOption5:function(t){return t.sort(function(t,e){return t.sum_num>e.sum_num?1:-1}),{title:{text:"热门APP排行",top:5,left:"center"},tooltip:this.getBarTooltip(),toolbox:{right:30,feature:{saveAsImage:{},dataView:{}}},grid:{left:15,bottom:25,containLabel:!0},xAxis:{type:"value",name:"人数"},yAxis:{type:"category",data:t.map(function(t){return t.busi_title})},series:this.getBarSeries({name:"访问人数",data:t.map(function(t){return t.sum_num})})}},getOption6:function(t){return t.sort(function(t,e){return t.sum_num>e.sum_num?1:-1}),{title:{text:"热门网站排行",top:5,left:"center"},tooltip:this.getBarTooltip(),toolbox:{right:30,feature:{saveAsImage:{},dataView:{}}},grid:{left:15,bottom:25,containLabel:!0},xAxis:{type:"value",name:"人数"},yAxis:{type:"category",data:t.map(function(t){return t.busi_title})},series:this.getBarSeries({name:"访问人数",data:t.map(function(t){return t.sum_num})})}},fetchRender:function(){var e=this;this.areaInfo=this.getAreaInfo();var t=this.ajaxParam,a=c.fetch2("/areaBehavior/pieGPRS",t);this.o1=null,this.setPromise("pieGPRS",a).then(function(t){e.o1=e.getOption1(t)}).catch(function(){e.o1="empty"});var i=c.fetch2("/areaBehavior/barGPRS",t);this.o2=null,this.setPromise("barGPRS",i).then(function(t){e.o2=e.getOption2(t)}).catch(function(){e.o2="empty"});var n=c.fetch2("/areaBehavior/pieGSM",t);this.o3=null,this.setPromise("pieGSM",n).then(function(t){e.o3=e.getOption1(t)}).catch(function(){e.o3="empty"});var o=c.fetch2("/areaBehavior/barGSM",t);this.o4=null,this.setPromise("barGSM",o).then(function(t){e.o4=e.getOption2(t)}).catch(function(){e.o4="empty"});var s=c.fetch2("/areaBehavior/hotAPP",t);this.o5=null,this.setPromise("hotAPP",s).then(function(t){e.o5=e.getOption5(t)}).catch(function(){e.o5="empty"});var r=c.fetch2("/areaBehavior/hotWeb",t);this.o6=null,this.setPromise("hotWeb",r).then(function(t){e.o6=e.getOption6(t)}).catch(function(){e.o6="empty"})}}),i={ajaxParam:function(){return{calDate:this.date.replace(/-/g,""),areaName:this.areaName}},addUrl:function(){return t.getEntryUrl("/addhotarea")}};n.default={data:function(){return{date:e.getOffsetStr(new Date,-1),areaName:"",areaOptions:[],areaInfo:"",o1:null,o2:null,o3:null,o4:null,o5:null,o6:null}},created:function(){},methods:a,computed:i,watch:{},props:[],mounted:function(){var e=this;this.vRequest.fetch2("/heatArea/query").then(function(t){e.areaOptions=t,e.areaName=t[0].name,e.fetchRender()})},mixins:[o(48),o(17)],beforeDestroy:function(){},components:{"tab-btn-group":o(534)}}}.call(n,o(4))},581:function(t,e,a){(t.exports=a(0)()).push([t.i,".date-input[data-v-2d82e2bc],select.type-sel[data-v-2d82e2bc]{width:120px}.panel-heading>span[data-v-2d82e2bc]{font-size:16px;color:#333}.panel-heading>em[data-v-2d82e2bc]{color:#777;font-size:13px;font-style:normal}.chart-section-1>.v-left[data-v-2d82e2bc],.chart-section-2>.v-left[data-v-2d82e2bc]{float:left;width:33%}.chart-section-1>.v-right[data-v-2d82e2bc],.chart-section-2>.v-right[data-v-2d82e2bc]{float:left;width:66%}.chart-section-1 .chart-1[data-v-2d82e2bc],.chart-section-1 .chart-2[data-v-2d82e2bc],.chart-section-2 .chart-1[data-v-2d82e2bc],.chart-section-2 .chart-2[data-v-2d82e2bc]{height:320px}.chart-section-3>.v-left[data-v-2d82e2bc]{float:left;width:49%}.chart-section-3>.v-right[data-v-2d82e2bc]{float:left;margin-left:1%;width:49%}.chart-section-3 .chart-1[data-v-2d82e2bc],.chart-section-3 .chart-2[data-v-2d82e2bc]{height:420px}",""])},615:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"page-action-analysis m-container"},[e("page-title",{attrs:{main:"策略库",sub:"分场景的行为分析"}}),a._v(" "),e("tab-btn-group",{staticClass:"mt30",attrs:{list:"查询条件"}}),a._v(" "),e("div",{staticClass:"panel p20"},[e("div",{staticClass:"m-row-mid-auto"},[e("div",{staticClass:"pl5"},[a._v("日期：")]),a._v(" "),e("div",{staticClass:"pl20"},[e("vue-date",{staticClass:"form-control date-input",model:{value:a.date,callback:function(t){a.date=t},expression:"date"}})],1),a._v(" "),e("div",{staticClass:"pl25"},[a._v("热门区域：")]),a._v(" "),e("div",{staticClass:"pl20"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.areaName,expression:"areaName"}],staticClass:"form-control area-sel",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});a.areaName=t.target.multiple?e:e[0]}}},a._l(a.areaOptions,function(t){return e("option",{domProps:{textContent:a._s(t.name)}})}),0)]),a._v(" "),e("div",{staticClass:"pl10"},[e("a",{staticClass:"ml10",attrs:{href:a.addUrl,target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[a._v("添加热门区域")])]),a._v(" "),e("div",{staticClass:"pl15"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:a.fetchRender}},[a._v("查询")])])])]),a._v(" "),e("div",{staticClass:"panel panel-info"},[e("div",{staticClass:"panel-heading"},[e("span",[a._v("该区域当日手机上网流量分析")]),a._v(" "),e("em",{domProps:{textContent:a._s(a.areaInfo)}})]),a._v(" "),e("div",{staticClass:"panel-body clearfix chart-section-1"},[e("div",{staticClass:"v-left"},[e("div",{staticClass:"chart-1"},[e("my-chart",{attrs:{o:a.o1}})],1)]),a._v(" "),e("div",{staticClass:"v-right"},[e("div",{staticClass:"chart-2"},[e("my-chart",{attrs:{o:a.o2}})],1)])])]),a._v(" "),e("div",{staticClass:"panel panel-info"},[e("div",{staticClass:"panel-heading"},[e("span",[a._v("该区域当日语音通话分析")]),a._v(" "),e("em",{domProps:{textContent:a._s(a.areaInfo)}})]),a._v(" "),e("div",{staticClass:"panel-body clearfix chart-section-2"},[e("div",{staticClass:"v-left"},[e("div",{staticClass:"chart-1"},[e("my-chart",{attrs:{o:a.o3}})],1)]),a._v(" "),e("div",{staticClass:"v-right"},[e("div",{staticClass:"chart-2"},[e("my-chart",{attrs:{o:a.o4}})],1)])])]),a._v(" "),e("div",{staticClass:"panel panel-info"},[e("div",{staticClass:"panel-heading"},[e("span",[a._v("该区域当日APP/网站访问分析")]),a._v(" "),e("em",{domProps:{textContent:a._s(a.areaInfo)}})]),a._v(" "),e("div",{staticClass:"panel-body clearfix chart-section-3"},[e("div",{staticClass:"v-left"},[e("div",{staticClass:"chart-1"},[e("my-chart",{attrs:{o:a.o5}})],1)]),a._v(" "),e("div",{staticClass:"v-right"},[e("div",{staticClass:"chart-2"},[e("my-chart",{attrs:{o:a.o6}})],1)])])])],1)},staticRenderFns:[]}},638:function(t,e,a){var i=a(581);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("08832d30",i,!0,{})}});